import{c9 as X,ca as x,d as M,bQ as W,bD as $,m as k,c as D,C as F,F as G,G as B,a6 as R,o as _,a as g,n as o,b as e,w as s,u as q,v as L,z as Q,x as H,b2 as J,p as c,t as w,i as r,M as K,N as O,aq as Y,I as Z,e as tt,cb as et,X as st,y as ot,_ as nt}from"./index-fER-Z0jW.js";async function lt(n,f){const m=new X;return m.onmessage=f,await x("plugin:global-shortcut|register",{shortcuts:Array.isArray(n)?n:[n],handler:m})}async function T(n){return await x("plugin:global-shortcut|unregister",{shortcuts:Array.isArray(n)?n:[n]})}async function at(n){return await x("plugin:global-shortcut|is_registered",{shortcut:n})}const rt={class:"pointer-util-content"},it={class:"title"},ct={class:"btns"},ut={class:"content"},dt={class:"mini-tip"},pt={class:"info"},mt={key:0,class:"empty"},_t=M({__name:"PointerUtil",setup(n){q(l=>({fb27c62c:r(y),"09570daa":r(E),df2c9fe4:r(m),"64c2dd76":r(h)}));const f=W(),{appAsideBgColor:m,appBackground:h}=tt(),v=$(),A=l=>(N(),et(l.join(","))),u=k([0,0]),b=k([60,60,60]),E=D(()=>`rgb(${b.value.join(",")})`),d=F([]),I=()=>{f.close()};let z;const j=()=>{d.splice(0,d.length)};G(async()=>{const l=v.getShortcuts("记录鼠标位置及颜色");await at(l)&&await T(l),lt(l,()=>{d.unshift({pos:u.value,rgbColor:b.value})}),z=setInterval(async()=>{const{x:t,y:a}=await B.getMousePos();if(t===u.value[0]&&a===u.value[1])return;u.value=[t,a];const i=await B.screenColor(t,a);i.message==="success"&&(b.value=i.data)},100)}),R(async()=>{clearInterval(z);const l=v.getShortcuts("记录鼠标位置及颜色");await T(l)});const y=k("translateX(-100%)"),N=()=>{y.value="translateX(0)",setTimeout(()=>{y.value="translateX(-100%)"},2e3)};return(l,t)=>{const a=L,i=st,S=Q,p=H,V=ot,P=J;return _(),g("div",rt,[o("div",it,[t[2]||(t[2]=o("span",{"data-tauri-drag-region":"",style:{cursor:"move"}},"鼠标工具",-1)),t[3]||(t[3]=o("div",{"data-tauri-drag-region":"",style:{cursor:"move"},class:"move"},null,-1)),o("div",ct,[e(S,{effect:"dark",content:"清空记录",placement:"bottom"},{default:s(()=>[e(i,{class:"btn",size:"small",onClick:j,circle:""},{default:s(()=>[e(a,null,{default:s(()=>t[0]||(t[0]=[o("span",{"i-mdi-invoice-text-remove-outline":""},null,-1)])),_:1})]),_:1})]),_:1}),e(S,{effect:"dark",content:"关闭",placement:"bottom"},{default:s(()=>[e(i,{class:"btn",size:"small",onClick:I,circle:""},{default:s(()=>[e(a,null,{default:s(()=>t[1]||(t[1]=[o("span",{"i-mdi-close":""},null,-1)])),_:1})]),_:1})]),_:1})])]),o("div",ut,[o("div",dt,[e(p,{size:"small",type:"primary"},{default:s(()=>t[4]||(t[4]=[c("复制成功")])),_:1}),e(a,{size:"small"},{default:s(()=>t[5]||(t[5]=[o("span",{"i-mdi-clipboard-check-outline":""},null,-1)])),_:1})]),o("div",pt,[e(p,null,{default:s(()=>[c("pos:"+w(r(u).join(",")),1)]),_:1}),t[6]||(t[6]=o("div",{class:"color-show"},null,-1))]),e(P,{class:"record",height:"80"},{default:s(()=>[(_(!0),g(K,null,O(r(d),(C,U)=>(_(),g("div",{key:U,class:"record-item"},[e(p,{size:"small"},{default:s(()=>[c("("+w(C.pos.join(","))+") → ",1)]),_:2},1024),o("div",{class:"color-block",style:Y({backgroundColor:`rgb(${C.rgbColor.join(",")})`})},null,4),e(i,{size:"small",class:"copy-btn",onClick:gt=>A(C.rgbColor),link:""},{default:s(()=>[e(a,null,{default:s(()=>t[7]||(t[7]=[o("span",{"i-mdi-content-copy":""},null,-1)])),_:1})]),_:2},1032,["onClick"])]))),128)),r(d).length?Z("",!0):(_(),g("div",mt,[e(p,{size:"small"},{default:s(()=>t[8]||(t[8]=[c("暂无内容，按下")])),_:1}),e(V,{type:"primary",size:"small"},{default:s(()=>[c(w(r(v).getShortcuts("记录鼠标位置及颜色")),1)]),_:1}),e(p,{size:"small"},{default:s(()=>t[9]||(t[9]=[c("记录鼠标点对应的颜色")])),_:1})]))]),_:1})])])}}}),vt=nt(_t,[["__scopeId","data-v-b1d92243"]]);export{vt as default};
