import{d as B,l as b,c as h,A as I,W as i,X as C,a6 as E,o as R,a as T,m as c,b as n,w as l,ar as W,i as d,u as z,cc as O,B as $,cb as k,E as M,q as N,Y as S,R as V,n as p,t as A,e as L,_ as U}from"./index-BcWmzzsU.js";const q={class:"OR-content","data-tauri-drag-region":"",style:{cursor:"move"}},D={class:"btns"},X=B({__name:"OperationRecordWindow",setup(Y){z(a=>({"6cc88fac":d(_)}));const{borderRadius:m,appOpacity:_,oppositeBgColor:v}=L(),o=b(1),f=h(()=>{const a=Math.floor(o.value/3600),e=Math.floor(o.value%3600/60),s=Math.floor(o.value%60);return`${a?`${a}:`:""}${e?`${e}:`:""}${s}`});let t,u;const g=()=>{i.setSize(new O(180,40)),m.value="20px",i.show(),o.value=1,t=setInterval(()=>{o.value+=1},1e3)};I(async()=>{i.hide(),u=await C.notify.listen(a=>{const{type:e,payload:s}=a.payload;if(e==="custom-message"){const{name:r}=s;r==="init"?g():r==="stop"&&t&&clearInterval(t)}})}),E(()=>{t&&clearInterval(t),u&&u()});const y=async()=>{await $.stopCaptureOperation(),k.getByLabel("main")?.show(),t&&clearInterval(t),i.hide()};return(a,e)=>{const s=M,r=N,w=S,x=V;return R(),T("div",q,[c("div",{class:"content","data-tauri-drag-region":"",style:W([{cursor:"move"},{color:d(v)}])},[n(s,{class:"icon","data-tauri-drag-region":"",style:{cursor:"move"}},{default:l(()=>e[0]||(e[0]=[c("span",{"i-svg-spinners-pulse-rings-multiple":""},null,-1)])),_:1}),n(r,{class:"icon",size:"small",type:"primary","data-tauri-drag-region":"",style:{cursor:"move"}},{default:l(()=>[p(A(d(f)),1)]),_:1}),n(w,{class:"message","data-tauri-drag-region":"",style:{cursor:"move"}},{default:l(()=>e[1]||(e[1]=[p("操作录制中")])),_:1})],4),c("div",D,[n(x,{class:"btn",size:"small",type:"danger",onClick:y,circle:""},{default:l(()=>[n(s,null,{default:l(()=>e[2]||(e[2]=[c("span",{"i-mdi-stop-circle-outline":""},null,-1)])),_:1})]),_:1})])])}}}),F=U(X,[["__scopeId","data-v-282084f2"]]);export{F as default};
