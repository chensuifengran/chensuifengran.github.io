import{bs as v,bt as E,d as P,u as S,m as _,e as h,o as m,i as C,a as w,aj as N,ay as V,j as x,w as g,c as A,l as I,ab as b,D as B,ae as L,E as H,p as O,aR as R,I as z}from"./.pnpm-D_Vtnb2u.js";import{u as G,Q as M,_ as $}from"./index-6puY7M7i.js";v.registerLanguage("typescript",E);const q=s=>s.split(`
`).map(n=>{const t=v.highlight(n,{language:"typescript"}).value;let r=t?.split("").findIndex(c=>c!==" ")-1,u=t;return r>0&&(u=new Array(r+1).fill("&nbsp;").join("")+t.substring(r)),u}),J={class:"code","overflow-x-hidden":""},Q={class:"code-content","overflow-y-scroll":""},U=["innerHTML"],D=P({__name:"RawCodeView",props:{rawCode:{type:[String,Array],required:!0},showCopy:{type:Boolean,default:!0},filePath:{type:String,default:""}},setup(s){S(c=>({"12c17ce2":_(r)}));const o=s,e=h(()=>Array.isArray(o.rawCode)?o.rawCode.join(""):o.rawCode),n=h(()=>q(e.value)),t=c=>{const a=c.replace(/\s+(?=[^()]*\))/g,"").trim();M(a)?B({title:"复制成功",type:"success",position:"bottom-right"}):B({title:"复制失败",type:"error",position:"bottom-right"})},{appAsideBgColor:r}=G(),u=c=>{L("open_file_explorer",{path:c})};return(c,a)=>{const p=H,f=O,y=R;return m(),C("div",J,[w("div",Q,[(m(!0),C(N,null,V(_(n),(d,i)=>(m(),C("div",{key:d+i,innerHTML:d,"text-nowrap":"","cursor-text":""},null,8,U))),128))]),x(y,{class:"btn-group"},{default:g(()=>[s.showCopy?(m(),A(f,{key:0,onClick:a[0]||(a[0]=d=>t(_(e))),size:"small"},{default:g(()=>[x(p,null,{default:g(()=>a[2]||(a[2]=[w("span",{"i-mdi-content-copy":""},null,-1)])),_:1}),a[3]||(a[3]=I("复制 "))]),_:1})):b("",!0),s.filePath.trim().length?(m(),A(f,{key:1,onClick:a[1]||(a[1]=d=>u(s.filePath)),size:"small"},{default:g(()=>[x(p,null,{default:g(()=>a[4]||(a[4]=[w("span",{"i-bxl-visual-studio":"","c-blue":""},null,-1)])),_:1}),a[5]||(a[5]=I("编辑 "))]),_:1})):b("",!0)]),_:1})])}}}),tt=$(D,[["__scopeId","data-v-8b9a334d"]]),K=(s,o,e="")=>{const n={};for(const t of s){const r=t[o]||e;n[r]?n[r].push(t):n[r]=[t]}return n},W=(s,o,e,n=[],t="",r=".")=>{const u=[];for(const c in s){const a=s[c];if(c===t)a.forEach(p=>{const f=Array.isArray(o)?o.map(i=>p[i]).filter(i=>i).join(r):p[o],y=Array.isArray(e)?e.map(i=>p[i]).filter(i=>i).join(r):p[e],d={};for(const i of n)d[i]=p[i];u.push({label:f,value:y,...d})});else{const p=[];a.forEach(f=>{const y=Array.isArray(o)?o.map(l=>f[l]||"").filter(l=>l).join(r):f[o],d=Array.isArray(e)?e.map(l=>f[l]||"").filter(l=>l).join(r):f[e],i={};for(const l of n)i[l]=f[l];p.push({label:y,value:d,...i})}),u.push({label:c,value:c,children:p})}}return u},j=(s,o,e="id",n="children")=>{for(const t of o){if(t[e]===s)return t;if(t[n]){const r=j(s,t[n],e,n);if(r)return r}}},k=(s,o,e="id",n="children")=>{for(let t=0;t<o.length;t++){if(o[t][e]===s)return t.toString();if(o[t][n]){const r=k(s,o[t][n],e,n);if(r)return t+"."+r}}return""},X=(s,o,e="id",n="children")=>{const t=Y.findIndexPathByIdInTree(s,o,e,n).split(".").map(u=>+u);let r=o;for(let u=0;u<t.length-1;u++)r=r[t[u]].children;return r},T=(s,o="id",e="children")=>{const n=[];for(const t of s)t[o]=z(),t[e]&&(t[e]=T(t[e],o,e)),n.push(t);return n},Y={dataGrouping:K,groupRecordToOptions:W,findByIdInTree:j,findIndexPathByIdInTree:k,getTreeParentById:X,genTreeArrNodeId:T};export{tt as _,Y as d};
