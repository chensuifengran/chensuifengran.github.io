import{d as K,u as ut,o as d,i as x,a as s,t as O,c as b,w as l,j as e,a9 as rt,k as pt,m as o,E as X,ab as Y,r as g,e as dt,M as ft,g as mt,aV as ct,a7 as E,a8 as T,ae as N,ah as D,aS as vt,aN as P,ak as q,aw as F,l as a,ap as gt,n as _t,az as St,p as bt,ax as kt,ay as Vt,aa as yt,aX as xt,aY as wt,aP as Ct}from"./.pnpm-B-riUXVB.js";import{u as It,_ as j,c as At,r as z,d as S,n as Et,a as Tt}from"./index-DhEYsvJM.js";import{_ as Dt}from"./CodeIcon-BmYyo8iD.js";const zt={class:"SS-item"},Bt={class:"al-center"},Lt=K({__name:"ScriptSettingItem",props:{label:{type:String,required:!0},alert:{type:String,default:""},width:{type:String,default:"220px"}},setup(w){ut(k=>({"02c441d2":o(v),"5c3b42d1":w.width}));const{appAsideBgColor:v}=It(),r=w;return(k,V)=>{const C=X,f=Y;return d(),x("div",null,[s("div",zt,[s("div",Bt,[s("span",null,O(r.label),1),r.alert?(d(),b(f,{key:0,content:r.alert,placement:"right"},{default:l(()=>[e(C,null,{default:l(()=>V[0]||(V[0]=[s("span",{"i-mdi-help-circle-outline":""},null,-1)])),_:1})]),_:1},8,["content"])):rt("",!0)]),pt(k.$slots,"default",{class:"slot-item"},void 0,!0)])])}}}),$t=j(Lt,[["__scopeId","data-v-3ecf6c41"]]),Rt="/assets/sendTo-t1cMxVi9.png",Ut="/assets/exportApp-C4grmTP_.png",Mt="/assets/target-CcpY05ha.png",Nt={class:"script-setting-div"},Pt={class:"title-end"},qt={class:"script-setting"},Ft={class:"guide"},Kt=K({__name:"ScriptSetting",setup(w){const v=g(!1),r=g(1),k=()=>{r.value++>1&&(r.value=1)},V=()=>{r.value>1&&r.value--},C=()=>{z.replace({path:"/script/list"})},f=g(-1),p=dt({get:()=>S().mockScriptList.value[f.value],set:i=>{S().mockScriptList.value[f.value]=i}}),{openId:I,contentTransform:G,asideBarPos:H}=Tt(),J=At(),{scriptList:Ot,deviceList:Q}=ft(J),W=Q.value.map(i=>({label:i,value:i}));mt(()=>{}),ct(()=>{if(I.value==="-1")return;const i=S().mockScriptList.value,t=i.find(u=>u.id===I.value);t?.setting||(t.setting={autoImportLastRunConfig:!1,targetAdbDevice:"",excludeDevice:[],targetApp:"",autoStartTargetApp:!1}),f.value=i.findIndex(u=>u.id===I.value)});const B=g(),A=g(!1),m=g(""),Z=i=>{const u=S().mockScriptList.value[f.value].setting.excludeDevice;u.splice(u.indexOf(i),1)},h=()=>{A.value=!0,_t(()=>{B.value.input.focus()})},L=i=>{const u=S().mockScriptList.value[f.value].setting;m.value&&(u.excludeDevice?u.excludeDevice.push(m.value):u.excludeDevice=[m.value]),m.value="",i||(A.value=!1)},tt=()=>{G.value="translateX(-100%)",H.value="absolute",z.replace("/script/editor")},et=()=>{z.replace("/script/run")};return(i,t)=>{const u=Dt,$=Y,R=X,lt=Et,U=St,_=$t,y=bt,st=kt,nt=Vt,c=yt,M=xt,ot=wt,at=Ct,it=vt;return d(),x(D,null,[s("div",Nt,[e(lt,{onBack:C,class:"header",title:o(f)!==-1?o(p).name:"出现问题，请联系开发者","allow-drag":!1},{default:l(()=>[s("div",Pt,[e($,{class:"box-item",effect:"dark",content:"编辑脚本",placement:"bottom"},{default:l(()=>[e(u,{class:"icon",onClick:P(tt,["stop"])})]),_:1}),e($,{class:"box-item",effect:"dark",content:"运行脚本",placement:"bottom"},{default:l(()=>[e(R,{class:"icon",onClick:P(et,["stop"])},{default:l(()=>t[9]||(t[9]=[s("span",{"i-mdi-play-circle-outline":""},null,-1)])),_:1})]),_:1})])]),_:1},8,["title"]),s("div",qt,[t[12]||(t[12]=s("h4",{class:"ml-0"},"初始化表单后(运行脚本前)",-1)),e(_,{label:"自动导入上次运行配置",alert:"开启后，在脚本初始化之后自动恢复上次运行脚本时各表单项的值或选项"},{default:l(()=>[e(U,{modelValue:o(p).setting.autoImportLastRunConfig,"onUpdate:modelValue":t[0]||(t[0]=n=>o(p).setting.autoImportLastRunConfig=n)},null,8,["modelValue"])]),_:1}),e(_,{label:"自动启动目标应用",alert:"开启后，在脚本初始化之后自动启动下方的【目标应用】（若有）"},{default:l(()=>[e(U,{modelValue:o(p).setting.autoStartTargetApp,"onUpdate:modelValue":t[1]||(t[1]=n=>o(p).setting.autoStartTargetApp=n)},null,8,["modelValue"])]),_:1}),E(e(_,{label:"目标应用",alert:"选项【自动启动目标应用】启动的目标,填写指导请点击输入框右边问号"},{default:l(()=>[e(o(q),{modelValue:o(p).setting.targetApp,"onUpdate:modelValue":t[3]||(t[3]=n=>o(p).setting.targetApp=n),placeholder:"输入目标应用启动的目标"},{append:l(()=>[e(y,{size:"small",circle:"",class:"question-button"},{default:l(()=>[e(R,{size:20,onClick:t[2]||(t[2]=n=>v.value=!0)},{default:l(()=>t[10]||(t[10]=[s("span",{"i-mdi-help-circle-outline":""},null,-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512),[[T,o(p).setting.autoStartTargetApp]]),t[13]||(t[13]=s("h4",{class:"ml-0"},"运行脚本时",-1)),e(_,{label:"自动连接目标设备",alert:"选择后，运行脚本时，ADB将连接至该设备,并与其它设备断开连接"},{default:l(()=>[e(nt,{modelValue:o(p).setting.targetAdbDevice,"onUpdate:modelValue":t[4]||(t[4]=n=>o(p).setting.targetAdbDevice=n),class:"target-device",size:"small",filterable:"","allow-create":"","default-first-option":"",clearable:"","reserve-keyword":!1,placeholder:"选择或输入设备地址，如：127.0.0.1:21503"},{default:l(()=>[(d(!0),x(D,null,F(o(W),n=>(d(),b(st,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"主动断开的设备",alert:"当ADB无法发现该设备,添加该设备在目标设备连接之前自动断开连接"},{default:l(()=>[s("div",null,[(d(!0),x(D,null,F(o(p).setting.excludeDevice,n=>(d(),b(c,{key:n,class:"mr-10",closable:"",type:"info","disable-transitions":!1,onClose:Xt=>Z(n)},{default:l(()=>[a(O(n),1)]),_:2},1032,["onClose"]))),128)),o(A)?(d(),b(o(q),{key:0,ref_key:"InputRef",ref:B,modelValue:o(m),"onUpdate:modelValue":t[5]||(t[5]=n=>N(m)?m.value=n:null),class:"tag-input",size:"small",onKeyup:t[6]||(t[6]=gt(n=>L(!0),["enter"])),onBlur:t[7]||(t[7]=n=>L(!1))},null,8,["modelValue"])):(d(),b(y,{key:1,class:"button-new-tag",size:"small",onClick:h},{default:l(()=>t[11]||(t[11]=[a(" + 排除的设备 ")])),_:1}))])]),_:1})])]),e(it,{modelValue:o(v),"onUpdate:modelValue":t[8]||(t[8]=n=>N(v)?v.value=n:null),title:"获取目标应用指南",direction:"rtl",size:"70%"},{default:l(()=>[e(ot,{active:o(r),"finish-status":"success"},{default:l(()=>[e(M,{title:"1.导出快捷方式"}),e(M,{title:"2.复制目标"})]),_:1},8,["active"]),e(at,null,{default:l(()=>[e(y,{onClick:V},{default:l(()=>t[14]||(t[14]=[a("上一步")])),_:1}),e(y,{onClick:k},{default:l(()=>t[15]||(t[15]=[a("下一步")])),_:1})]),_:1}),s("div",Ft,[E(s("div",null,[t[20]||(t[20]=s("h3",null,"1.导出快捷方式",-1)),s("div",null,[t[17]||(t[17]=a(" 打开模拟器，长按图标，点击 ")),e(c,{size:"default",type:"info"},{default:l(()=>t[16]||(t[16]=[a("发送到")])),_:1})]),t[21]||(t[21]=s("img",{src:Rt,alt:"",srcset:""},null,-1)),s("div",null,[t[19]||(t[19]=a(" 选择 ")),e(c,{size:"default",type:"info"},{default:l(()=>t[18]||(t[18]=[a("添加电脑桌面快捷方式")])),_:1})]),t[22]||(t[22]=s("img",{src:Ut,alt:"",srcset:""},null,-1))],512),[[T,o(r)===1]]),E(s("div",null,[t[32]||(t[32]=s("h3",null,"2.复制目标",-1)),s("div",null,[t[26]||(t[26]=a(" 在桌面找到导出的快捷方式，右击 ")),e(c,{size:"default",type:"info"},{default:l(()=>t[23]||(t[23]=[a("属性")])),_:1}),t[27]||(t[27]=a("-")),e(c,{size:"default",type:"info"},{default:l(()=>t[24]||(t[24]=[a("快捷方式")])),_:1}),t[28]||(t[28]=a("-")),e(c,{size:"default",type:"info"},{default:l(()=>t[25]||(t[25]=[a("目标")])),_:1})]),s("div",null,[t[30]||(t[30]=a(" 全选")),e(c,{size:"default",type:"info"},{default:l(()=>t[29]||(t[29]=[a("目标")])),_:1}),t[31]||(t[31]=a("编辑框的内容，复制 "))]),t[33]||(t[33]=s("img",{src:Mt,alt:"",srcset:""},null,-1)),t[34]||(t[34]=s("div",null,"复制完成后粘贴到本输入框即可完成设置",-1))],512),[[T,o(r)===2]])])]),_:1},8,["modelValue"])],64)}}}),Ht=j(Kt,[["__scopeId","data-v-390f833b"]]);export{Ht as default};
