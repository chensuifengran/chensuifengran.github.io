import{d as x,U as B,l as C,c as h,B as I,Y as T,a5 as W,o as E,a as z,m as c,b as n,w as i,au as O,i as d,u as R,cd as $,C as k,cc as M,E as N,v as S,q as V,T as U,n as p,t as A,e as L,_ as q}from"./index-waqMAD9w.js";const D={class:"OR-content","data-tauri-drag-region":"",style:{cursor:"move"}},Y={class:"btns"},j=x({__name:"OperationRecordWindow",setup(F){R(a=>({"027a267c":d(_)}));const l=B(),{borderRadius:m,appOpacity:_,oppositeBgColor:v}=L(),o=C(1),g=h(()=>{const a=Math.floor(o.value/3600),e=Math.floor(o.value%3600/60),s=Math.floor(o.value%60);return`${a?`${a}:`:""}${e?`${e}:`:""}${s}`});let t,u;const f=()=>{l.setSize(new $(180,40)),m.value="20px",l.show(),o.value=1,t=setInterval(()=>{o.value+=1},1e3)};I(async()=>{l.hide(),u=await T.notify.listen(a=>{const{type:e,payload:s}=a.payload;if(e==="custom-message"){const{name:r}=s;r==="init"?f():r==="stop"&&t&&clearInterval(t)}})}),W(()=>{t&&clearInterval(t),u&&u()});const y=async()=>{await k.stopCaptureOperation(),(await M.getByLabel("main"))?.show(),t&&clearInterval(t),l.hide()};return(a,e)=>{const s=N,r=S,w=V,b=U;return E(),z("div",D,[c("div",{class:"content","data-tauri-drag-region":"",style:O([{cursor:"move"},{color:d(v)}])},[n(s,{class:"icon","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>e[0]||(e[0]=[c("span",{"i-svg-spinners-pulse-rings-multiple":""},null,-1)])),_:1}),n(r,{class:"icon",size:"small",type:"primary","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>[p(A(d(g)),1)]),_:1}),n(w,{class:"message","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>e[1]||(e[1]=[p("操作录制中")])),_:1})],4),c("div",Y,[n(b,{class:"btn",size:"small",type:"danger",onClick:y,circle:""},{default:i(()=>[n(s,null,{default:i(()=>e[2]||(e[2]=[c("span",{"i-mdi-stop-circle-outline":""},null,-1)])),_:1})]),_:1})])])}}}),H=q(j,[["__scopeId","data-v-87e21b38"]]);export{H as default};
