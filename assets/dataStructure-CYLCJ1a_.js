import{bq as v,br as E,d as P,u as S,m as _,e as h,o as y,i as C,a as w,ah as N,aw as V,j as x,w as g,c as A,l as B,a9 as I,B as b,ac as L,E as H,p as G,aP as O,G as q}from"./.pnpm-B-riUXVB.js";import{u as z,Q as M,_ as R}from"./index-DhEYsvJM.js";v.registerLanguage("typescript",E);const $=s=>s.split(`
`).map(n=>{const t=v.highlight(n,{language:"typescript"}).value;let r=t?.split("").findIndex(c=>c!==" ")-1,u=t;return r>0&&(u=new Array(r+1).fill("&nbsp;").join("")+t.substring(r)),u}),J={class:"code","overflow-x-hidden":""},Q={class:"code-content","overflow-y-scroll":""},U=["innerHTML"],K=P({__name:"RawCodeView",props:{rawCode:{type:[String,Array],required:!0},showCopy:{type:Boolean,default:!0},filePath:{type:String,default:""}},setup(s){S(c=>({"12c17ce2":_(r)}));const o=s,e=h(()=>Array.isArray(o.rawCode)?o.rawCode.join(""):o.rawCode),n=h(()=>$(e.value)),t=c=>{const a=c.replace(/\s+(?=[^()]*\))/g,"").trim();M(a)?b({title:"复制成功",type:"success",position:"bottom-right"}):b({title:"复制失败",type:"error",position:"bottom-right"})},{appAsideBgColor:r}=z(),u=c=>{L("open_file_explorer",{path:c})};return(c,a)=>{const p=H,f=G,m=O;return y(),C("div",J,[w("div",Q,[(y(!0),C(N,null,V(_(n),(d,i)=>(y(),C("div",{key:d+i,innerHTML:d,"text-nowrap":"","cursor-text":""},null,8,U))),128))]),x(m,{class:"btn-group"},{default:g(()=>[s.showCopy?(y(),A(f,{key:0,onClick:a[0]||(a[0]=d=>t(_(e))),size:"small"},{default:g(()=>[x(p,null,{default:g(()=>a[2]||(a[2]=[w("span",{"i-mdi-content-copy":""},null,-1)])),_:1}),a[3]||(a[3]=B("复制 "))]),_:1})):I("",!0),s.filePath.trim().length?(y(),A(f,{key:1,onClick:a[1]||(a[1]=d=>u(s.filePath)),size:"small"},{default:g(()=>[x(p,null,{default:g(()=>a[4]||(a[4]=[w("span",{"i-bxl-visual-studio":"","c-blue":""},null,-1)])),_:1}),a[5]||(a[5]=B("编辑 "))]),_:1})):I("",!0)]),_:1})])}}}),tt=R(K,[["__scopeId","data-v-8b9a334d"]]),W=(s,o,e="")=>{const n={};for(const t of s){const r=t[o]||e;n[r]?n[r].push(t):n[r]=[t]}return n},X=(s,o,e,n=[],t="",r=".")=>{const u=[];for(const c in s){const a=s[c];if(c===t)a.forEach(p=>{const f=Array.isArray(o)?o.map(i=>p[i]).filter(i=>i).join(r):p[o],m=Array.isArray(e)?e.map(i=>p[i]).filter(i=>i).join(r):p[e],d={};for(const i of n)d[i]=p[i];u.push({label:f,value:m,...d})});else{const p=[];a.forEach(f=>{const m=Array.isArray(o)?o.map(l=>f[l]||"").filter(l=>l).join(r):f[o],d=Array.isArray(e)?e.map(l=>f[l]||"").filter(l=>l).join(r):f[e],i={};for(const l of n)i[l]=f[l];p.push({label:m,value:d,...i})}),u.push({label:c,value:c,children:p})}}return u},k=(s,o,e="id",n="children")=>{for(const t of o){if(t[e]===s)return t;if(t[n]){const r=k(s,t[n],e,n);if(r)return r}}},T=(s,o,e="id",n="children")=>{for(let t=0;t<o.length;t++){if(o[t][e]===s)return t.toString();if(o[t][n]){const r=T(s,o[t][n],e,n);if(r)return t+"."+r}}return""},Y=(s,o,e="id",n="children")=>{const t=Z.findIndexPathByIdInTree(s,o,e,n).split(".").map(u=>+u);let r=o;for(let u=0;u<t.length-1;u++)r=r[t[u]].children;return r},j=(s,o="id",e="children")=>{const n=[];for(const t of s)t[o]=q(),t[e]&&(t[e]=j(t[e],o,e)),n.push(t);return n},Z={dataGrouping:W,groupRecordToOptions:X,findByIdInTree:k,findIndexPathByIdInTree:T,getTreeParentById:Y,genTreeArrNodeId:j};export{tt as _,Z as d};
