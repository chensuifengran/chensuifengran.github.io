import{d as b,Q as h,r as B,e as W,g as C,h as I,o as E,i as T,a as c,j as n,w as i,ai as z,m as d,u as O,bp as R,W as $,E as k,ac as M,q as N,p as S,l as p,t as V}from"./.pnpm-D_Vtnb2u.js";import{X as A,i as L,u as U,_ as j}from"./index-CQveOEMM.js";const q={class:"OR-content","data-tauri-drag-region":"",style:{cursor:"move"}},D={class:"btns"},Q=b({__name:"OperationRecordWindow",setup(X){O(a=>({"35825a4a":d(_)}));const r=h(),{borderRadius:m,appOpacity:_,oppositeBgColor:g}=U(),o=B(1),v=W(()=>{const a=Math.floor(o.value/3600),e=Math.floor(o.value%3600/60),s=Math.floor(o.value%60);return`${a?`${a}:`:""}${e?`${e}:`:""}${s}`});let t,u;const f=()=>{r.setSize(new R(180,40)),m.value="20px",r.show(),o.value=1,t=setInterval(()=>{o.value+=1},1e3)};C(async()=>{r.hide(),u=await A.notify.listen(a=>{const{type:e,payload:s}=a.payload;if(e==="custom-message"){const{name:l}=s;l==="init"?f():l==="stop"&&t&&clearInterval(t)}})}),I(()=>{t&&clearInterval(t),u&&u()});const y=async()=>{await L.stopCaptureOperation(),(await $.getByLabel("main"))?.show(),t&&clearInterval(t),r.hide()};return(a,e)=>{const s=k,l=M,w=N,x=S;return E(),T("div",q,[c("div",{class:"content","data-tauri-drag-region":"",style:z([{cursor:"move"},{color:d(g)}])},[n(s,{class:"icon","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>e[0]||(e[0]=[c("span",{"i-svg-spinners-pulse-rings-multiple":""},null,-1)])),_:1}),n(l,{class:"icon",size:"small",type:"primary","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>[p(V(d(v)),1)]),_:1}),n(w,{class:"message","data-tauri-drag-region":"",style:{cursor:"move"}},{default:i(()=>e[1]||(e[1]=[p("操作录制中")])),_:1})],4),c("div",D,[n(x,{class:"btn",size:"small",type:"danger",onClick:y,circle:""},{default:i(()=>[n(s,null,{default:i(()=>e[2]||(e[2]=[c("span",{"i-mdi-stop-circle-outline":""},null,-1)])),_:1})]),_:1})])])}}}),H=j(Q,[["__scopeId","data-v-47034316"]]);export{H as default};
