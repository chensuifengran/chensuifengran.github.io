import{cl as G,cm as x,d as W,bT as X,bG as $,m as k,c as F,C as M,F as R,G as T,a8 as D,o as _,a as g,n as o,b as e,w as s,u as J,v as L,z as Q,x as Z,b4 as q,p as c,t as w,g as r,P as H,Q as K,ar as O,J as Y,h as tt,cb as et,Z as st,y as ot,_ as nt}from"./index-DZzuFKiJ.js";async function lt(n,f){const m=new G;return m.onmessage=f,await x("plugin:global-shortcut|register",{shortcuts:Array.isArray(n)?n:[n],handler:m})}async function h(n){return await x("plugin:global-shortcut|unregister",{shortcuts:Array.isArray(n)?n:[n]})}async function at(n){return await x("plugin:global-shortcut|is_registered",{shortcut:n})}const rt={class:"pointer-util-content"},it={class:"title"},ct={class:"btns"},ut={class:"content"},dt={class:"mini-tip"},pt={class:"info"},mt={key:0,class:"empty"},_t=W({__name:"PointerUtil",setup(n){J(l=>({fb27c62c:r(y),"09570daa":r(E),df2c9fe4:r(m),"64c2dd76":r(B)}));const f=X(),{appAsideBgColor:m,appBackground:B}=tt(),v=$(),A=l=>(P(),et(l.join(","))),u=k([0,0]),b=k([60,60,60]),E=F(()=>`rgb(${b.value.join(",")})`),d=M([]),j=()=>{f.close()};let z;const I=()=>{d.splice(0,d.length)};R(async()=>{const l=v.getShortcuts("记录鼠标位置及颜色");await at(l)&&await h(l),lt(l,()=>{d.unshift({pos:u.value,rgbColor:b.value})}),z=setInterval(async()=>{const{x:t,y:a}=await T.getMousePos();if(t===u.value[0]&&a===u.value[1])return;u.value=[t,a];const i=await T.screenColor(t,a);i.message==="success"&&(b.value=i.data)},100)}),D(async()=>{clearInterval(z);const l=v.getShortcuts("记录鼠标位置及颜色");await h(l)});const y=k("translateX(-100%)"),P=()=>{y.value="translateX(0)",setTimeout(()=>{y.value="translateX(-100%)"},2e3)};return(l,t)=>{const a=L,i=st,S=Q,p=Z,V=ot,N=q;return _(),g("div",rt,[o("div",it,[t[2]||(t[2]=o("span",{"data-tauri-drag-region":"",style:{cursor:"move"}},"鼠标工具",-1)),t[3]||(t[3]=o("div",{"data-tauri-drag-region":"",style:{cursor:"move"},class:"move"},null,-1)),o("div",ct,[e(S,{effect:"dark",content:"清空记录",placement:"bottom"},{default:s(()=>[e(i,{class:"btn",size:"small",onClick:I,circle:""},{default:s(()=>[e(a,null,{default:s(()=>t[0]||(t[0]=[o("span",{"i-mdi-invoice-text-remove-outline":""},null,-1)])),_:1})]),_:1})]),_:1}),e(S,{effect:"dark",content:"关闭",placement:"bottom"},{default:s(()=>[e(i,{class:"btn",size:"small",onClick:j,circle:""},{default:s(()=>[e(a,null,{default:s(()=>t[1]||(t[1]=[o("span",{"i-mdi-close":""},null,-1)])),_:1})]),_:1})]),_:1})])]),o("div",ut,[o("div",dt,[e(p,{size:"small",type:"primary"},{default:s(()=>t[4]||(t[4]=[c("复制成功")])),_:1}),e(a,{size:"small"},{default:s(()=>t[5]||(t[5]=[o("span",{"i-mdi-clipboard-check-outline":""},null,-1)])),_:1})]),o("div",pt,[e(p,null,{default:s(()=>[c("pos:"+w(r(u).join(",")),1)]),_:1}),t[6]||(t[6]=o("div",{class:"color-show"},null,-1))]),e(N,{class:"record",height:"80"},{default:s(()=>[(_(!0),g(H,null,K(r(d),(C,U)=>(_(),g("div",{key:U,class:"record-item"},[e(p,{size:"small"},{default:s(()=>[c("("+w(C.pos.join(","))+") → ",1)]),_:2},1024),o("div",{class:"color-block",style:O({backgroundColor:`rgb(${C.rgbColor.join(",")})`})},null,4),e(i,{size:"small",class:"copy-btn",onClick:gt=>A(C.rgbColor),link:""},{default:s(()=>[e(a,null,{default:s(()=>t[7]||(t[7]=[o("span",{"i-mdi-content-copy":""},null,-1)])),_:1})]),_:2},1032,["onClick"])]))),128)),r(d).length?Y("",!0):(_(),g("div",mt,[e(p,{size:"small"},{default:s(()=>t[8]||(t[8]=[c("暂无内容，按下")])),_:1}),e(V,{type:"primary",size:"small"},{default:s(()=>[c(w(r(v).getShortcuts("记录鼠标位置及颜色")),1)]),_:1}),e(p,{size:"small"},{default:s(()=>t[9]||(t[9]=[c("记录鼠标点对应的颜色")])),_:1})]))]),_:1})])])}}}),vt=nt(_t,[["__scopeId","data-v-b1d92243"]]);export{vt as default};
